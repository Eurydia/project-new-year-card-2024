import{r as f}from"./react-BnPm9wb_.js";const $=(e,...t)=>{var n,o,i,s;(o=(n=e==null?void 0:e.services)==null?void 0:n.logger)!=null&&o.forward?e.services.logger.forward(t,"warn","react-i18next::",!0):(s=(i=e==null?void 0:e.services)==null?void 0:i.logger)!=null&&s.warn?(g(t[0])&&(t[0]=`react-i18next:: ${t[0]}`),e.services.logger.warn(...t)):console!=null&&console.warn&&(g(t[0])&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t))},O={},b=(e,...t)=>{g(t[0])&&O[t[0]]||(g(t[0])&&(O[t[0]]=new Date),$(e,...t))},k=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},S=(e,t,n)=>{e.loadNamespaces(t,k(e,n))},j=(e,t,n,o)=>{if(g(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return S(e,n,o);n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,k(e,o))},U=(e,t,n={})=>!t.languages||!t.languages.length?(b(t,"i18n.languages were undefined or empty",t.languages),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(o,i)=>{var s;if(((s=n.bindI18n)==null?void 0:s.indexOf("languageChanging"))>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!i(o.isLanguageChangingTo,e))return!1}}),g=e=>typeof e=="string",q=e=>typeof e=="object"&&e!==null,A=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,B={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},W=e=>B[e],G=e=>e.replace(A,W);let T={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:G};const J=(e={})=>{T={...T,...e}},K=()=>T;let H;const Y=e=>{H=e},Q=()=>H,ee={type:"3rdParty",init(e){J(e.options.react),Y(e)}},X=f.createContext();class Z{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const _=(e,t)=>{const n=f.useRef();return f.useEffect(()=>{n.current=e},[e,t]),n.current},M=(e,t,n,o)=>e.getFixedT(t,n,o),D=(e,t,n,o)=>f.useCallback(M(e,t,n,o),[e,t,n,o]),te=(e,t={})=>{var v,z,F,L;const{i18n:n}=t,{i18n:o,defaultNS:i}=f.useContext(X)||{},s=n||o||Q();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Z),!s){b(s,"You will need to pass in an i18next instance by using initReactI18next");const r=(l,u)=>g(u)?u:q(u)&&g(u.defaultValue)?u.defaultValue:Array.isArray(l)?l[l.length-1]:l,c=[r,{},!1];return c.t=r,c.i18n={},c.ready=!1,c}(v=s.options.react)!=null&&v.wait&&b(s,"It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const m={...K(),...s.options.react,...t},{useSuspense:C,keyPrefix:x}=m;let a=i||((z=s.options)==null?void 0:z.defaultNS);a=g(a)?[a]:a||["translation"],(L=(F=s.reportNamespaces).addUsedNamespaces)==null||L.call(F,a);const d=(s.isInitialized||s.initializedStoreOnce)&&a.every(r=>U(r,s,m)),P=D(s,t.lng||null,m.nsMode==="fallback"?a:a[0],x),E=()=>P,w=()=>M(s,t.lng||null,m.nsMode==="fallback"?a:a[0],x),[I,N]=f.useState(E);let h=a.join();t.lng&&(h=`${t.lng}${h}`);const R=_(h),p=f.useRef(!0);f.useEffect(()=>{const{bindI18n:r,bindI18nStore:c}=m;p.current=!0,!d&&!C&&(t.lng?j(s,t.lng,a,()=>{p.current&&N(w)}):S(s,a,()=>{p.current&&N(w)})),d&&R&&R!==h&&p.current&&N(w);const l=()=>{p.current&&N(w)};return r&&(s==null||s.on(r,l)),c&&(s==null||s.store.on(c,l)),()=>{p.current=!1,s&&(r==null||r.split(" ").forEach(u=>s.off(u,l))),c&&s&&c.split(" ").forEach(u=>s.store.off(u,l))}},[s,h]),f.useEffect(()=>{p.current&&d&&N(E)},[s,x,d]);const y=[I,s,d];if(y.t=I,y.i18n=s,y.ready=d,d||!d&&!C)return y;throw new Promise(r=>{t.lng?j(s,t.lng,a,()=>r()):S(s,a,()=>r())})};export{ee as i,te as u};
//# sourceMappingURL=react-i18next-h9pYPD0i.js.map
